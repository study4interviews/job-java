# ìµœì§€ìš° - JVM, GC

# 1ì£¼ì°¨ í”¼ë“œë°±.

## 1ë²ˆ : inner-class static init ìœ¼ë¡œ ì‹±ê¸€í†¤ì„ êµ¬í˜„í•  ê²½ìš°, ì–´ë–»ê²Œ thread-safeí•¨ì„ ë³´ì¥í•˜ëŠ”ê°€?

```java
static class InitializationOnDemandHolderIdiom {
		 
	    private InitializationOnDemandHolderIdiom(){}
	     
	    private static class SingleTonHolder{
	        private static final InitializationOnDemandHolderIdiom instance = new InitializationOnDemandHolderIdiom();
	    }
	     
	    public static InitializationOnDemandHolderIdiom getInstance(){
	        return SingleTonHolder.instance;
	    }
	    
	}
```

> Calling getSingleton() references the inner class, **triggering the JVM to load & initialize i**t. This is thread-safe, since **classloading uses locks.**

> While the implementation is an efficient thread-safe "singleton" cache without synchronization overhead, and better performing than uncontended synchronization.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__10.32.06.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__10.32.06.png)

[http://literatejava.com/jvm/fastest-threadsafe-singleton-jvm/](http://literatejava.com/jvm/fastest-threadsafe-singleton-jvm/)

### ì •ë¦¬

1. inner-classë¥¼ ë¶€ë¥´ë©° Class Loadingì„ triggerí•œë‹¤.
2. class-loadingê³¼ì •ì€ thread-safeí•˜ë‹¤. ë”°ë¼ì„œ í•œ ì“°ë ˆë“œë§Œ ë¬´ì¡°ê±´ **ë¡œë“œí•  ìˆ˜ ìˆë‹¤.**

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-02__5.09.46.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-02__5.09.46.png)

3. class-loadingê³¼ì •ì—ì„œ static-fieldì— ìˆëŠ”ê²ƒë„ ëª¨ë‘ ë¡œë“œí•œë‹¤. ì´ ë•Œ, ì‹±ê¸€í†¤ ê°ì²´ê°€ ìƒì„±ëœë‹¤.

## 2ë²ˆ : volatile ë°©ì‹ì—ì„œ volatileì„ ì“°ëŠ”ê²ƒì€ ì™œ ì¤‘ìš”í•œì§€? ì™œ ë‹¤ë¥¸ ë°©ì‹ì—ì„  ì•ˆì“°ëŠ”ì§€?

- JVMìŠ¤í™ì— ë”°ë¥´ë©´, ê° ì“°ë ˆë“œëŠ” ë¡œì»¬ ìºì‹œë¥¼ ì“´ë‹¤.
- ë¡œì»¬ ìºì‹œì— ë³€ìˆ˜ê°’(ìƒíƒœê°’)ì„ ì €ì¥í•˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œë¡œ ìƒíƒœê°’ì´ ìµœì‹ ê°’ì´ ì•„ë‹ í™•ë¥ ì´ í¬ë‹¤.
- **ê°™ì€ lock**ì„ í•˜ê²Œ ë˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ visibility(main memory â†” working memory sync) ë¥¼ ë³´ì¥í•˜ê²Œ ëœë‹¤.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.20.40.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.20.40.png)

    Fig 3.1, Java Concurrency in Pratice, p.37.

    > In other words, everything A did in or prior to a synchronized block is visible to B when it executes a synchronized block guarded by the same lock. Without synchronization, there is no such guarantee.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.30.45.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.30.45.png)

- í•˜ì´ë¼ì´íŒ…ëœ ì½”ë“œ ë¼ì¸ê°™ì€ìš°ëŠ” synchronized ë¸”ëŸ­ ë‹¤ìŒì— ì‹¤í–‰ëœë‹¤ê³  ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ì—¬ê¸°ì„œëŠ” volatileì„ ì“´ë‹¤.

## 3ë²ˆ : Lazy initì´ ê°€ì§€ëŠ” ì´ì ì€ ë¬´ì—‡ì¸ê°€?

```java
static class EagerSingleton {
	    private static EagerSingleton instance = new EagerSingleton();
	    
	    static {
	    	System.out.println("out");
	    }
	    // private constructor
	    private EagerSingleton() {
	    }

	    public static EagerSingleton getInstance() {
	        return instance;
	    }

	    public static void reset() {
				// some logic.
	    }
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		EagerSingleton.reset(); // ì—¬ê¸°ì„œí´ë˜ìŠ¤ ë¡œë”©ì´ ì¼ì–´ë‚œë‹¤. getInstance()ì‹œì ì— ë©”ëª¨ë¦¬ ê³µê°„ í™•ë³´ì— ìœ ë¦¬í•˜ë‹¤.
	}
```

## 4ë²ˆ : volatileì„ ê¼­ ì¨ì¤˜ì•¼í•˜ëŠ”ê°€?

- [ë©”ì¸ë©”ëª¨ë¦¬ì—ì„œ ìŠ¤ë ˆë“œë¡œ ê°’ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•  ë•Œì—ëŠ” read -> load -> use ìˆœì„œë¡œ ì§„í–‰ë˜ë©°, ìŠ¤ë ˆë“œì— ìˆëŠ” ê°’ì„ ë©”ì¸ë©”ëª¨ë¦¬ë¡œ ê°€ì ¸ì˜¬ ë•Œì—ëŠ” assign -> store -> write ìˆœì„œë¡œ ì§„í–‰ëœë‹¤.](https://yaboong.github.io/design-pattern/2018/09/28/thread-safe-singleton-patterns/)

    ```java
    public class DoubleCheckedSingleton {
        private static volatile DoubleCheckedSingleton instance = null;

        private DoubleCheckedSingleton() {}

        public static DoubleCheckedSingleton getInstance() {
            if (Objects.isNull(instance)) {
                synchronized (DoubleCheckedSingleton.class) {
                    if (Objects.isNull(instance)) {
                        instance = new DoubleCheckedSingleton();
                    }
                }
            }
            return instance;
        }
    }
    ```

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.23.40.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.23.40.png)

- ì²«ë²ˆì§¸ ìŠ¤ë ˆë“œê°€ instance ë¥¼ ìƒì„±í•˜ê³  synchronized ë¸”ë¡ì„ ë²—ì–´ë‚¨.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.25.13.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.25.13.png)

- ë‘ë²ˆì§¸ ìŠ¤ë ˆë“œê°€ synchronized ë¸”ë¡ì— ë“¤ì–´ì™€ì„œ null ì²´í¬ë¥¼ í•˜ëŠ” ì‹œì ì—ì„œ,
    - ì²«ë²ˆì§¸ ìŠ¤ë ˆë“œì—ì„œ ìƒì„±í•œ instance ê°€ working memory ì—ë§Œ ì¡´ì¬í•˜ê³  main memory ì—ëŠ” ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°
    - ë˜ëŠ”, main memory ì— ì¡´ì¬í•˜ì§€ë§Œ ë‘ë²ˆì§¸ ìŠ¤ë ˆë“œì˜ working memory ì— ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.25.33.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__6.25.33.png)

- ì¦‰, ë©”ëª¨ë¦¬ê°„ ë™ê¸°í™”ê°€ ì™„ë²½íˆ ì´ë£¨ì–´ì§€ì§€ ì•Šì€ ìƒíƒœë¼ë©´
- ë‘ë²ˆì§¸ ìŠ¤ë ˆë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë˜ ìƒì„±í•˜ê²Œ ëœë‹¤.

# JVM, GC ê³µë¶€ ëª©ì 

- ì‹¤ì œë¡œ í”„ë¡œê·¸ë˜ë° í•  ë•Œ, ì‚¬ìš©í•  ê²ƒë“¤ì€ ì•„ë‹ˆê³  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í”„ë¡œíŒŒì¼ë§ í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    - ClassLoaingì‹œì˜ ë¬¸ì œë¥¼ ì•Œê³  í•´ê²°í•  ìˆ˜ ìˆë‹¤.
    - GCì˜ ì¢…ë¥˜ì™€ íŠ¹ì§•ì„ ì•Œê³ , ë³¸ì¸ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ê²©ì— ìœ ë¦¬í•œ GCë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ”ì§€.
    - Java í™˜ê²½ì„¤ì •ì„ ì…‹íŒ…í•  ìˆ˜ ìˆê³ , ê´€ë ¨ ë¬¸ì œê°€ ìˆì„ê²½ìš° ì–´ë–»ê²Œ í•´ê²°í• ì§€ ì•Œ ìˆ˜ ìˆë‹¤.
    - ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” GCê°€ ì–´ë–¤ GCì¸ì§€ ì´í•´í•´ì•¼í•  í•„ìš”ê°€ ìˆë‹¤.

# JVM, JRE, JDK

### JVM (java virtual machine)

- **ìë°” ë°”ì´íŠ¸ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì´í•´í• ì§€ì— ëŒ€í•œ í‘œì¤€ ìŠ¤í™ì„ ì˜ë¯¸í•œë‹¤.**
- [https://docs.oracle.com/javase/specs/index.html](https://docs.oracle.com/javase/specs/index.html)
- JVMì„ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ì²´ë“¤ì€ ë§ë‹¤.
- 'í”Œë«í¼ì— ì¢…ì†ì ' ì´ë‹¤.
    - Javaë¼ëŠ” ì–¸ì–´ì˜ ë™ì‘ì€ í”Œë«í¼ ë…ë¦½ì ì´ì§€ë§Œ, JVMì€ í”Œë«í¼ì— ì¢…ì†ë˜ì–´ìˆë‹¤.

### JRE (java runtime enviroment)

- JVMì€ ë‹¨ìˆœíˆ JVMìœ¼ë¡œë§Œ ë°°í¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ìµœì†Œí•œì˜ ë°°í¬ë‹¨ìœ„ëŠ” JRE.
- JREì˜ ëª©ì ì€ **ìë°” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ”ê²ƒì— ìˆë‹¤.**
    - ë”°ë¼ì„œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì½ì„ JVMê³¼ ê·¸ ì‹¤í–‰ì„ ë„ìš¸ JRE System Libraryë¥¼ í¬í•¨í•œë‹¤.

        ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.37.12.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.37.12.png)

- JREêµ¬ì¡°.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.35.42.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-05__11.35.42.png)

- javaë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œê²ƒë“¤ë§Œ ë“¤ì–´ìˆê¸° ë•Œë¬¸ì— javaê´€ë ¨ íˆ´ (javac, javap ë“±ì€ ë“¤ì–´ìˆì§€ ì•Šë‹¤. ë‹¨ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ java ê°™ì€ ëª…ë ¹ì–´ëŠ” ë“¤ì–´ìˆë‹¤.)
- rt.jarëŠ” ëŸ°íƒ€ì„ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ë‹¤ì–‘í•œ í´ë˜ìŠ¤(ë¼ì´ë¸ŒëŸ¬ë¦¬)ì˜ ì •ë³´ê°€ ë‹´ê²¨ìˆë‹¤.
    - Java.thread, Java.util. Java.io. Java.lang...
    - ë”°ë¼ì„œ ì´ rt.jarëŠ” ë°˜ë“œì‹œ classpathì— ì†í•´ìˆì–´ì•¼ì§€ ì •ìƒì ìœ¼ë¡œ ì»´íŒŒì¼ì´ ê°€ëŠ¥í•˜ë‹¤.

### JDK (java development kit)

- JRE + ìë°” ê°œë°œì— í•„ìš”í•œ íˆ´ì„ í¬í•¨í•œ ë²„ì „ì´ë‹¤.
- javap, javac, javadoc, jar ë“± ì´ ì¶”ê°€ì ìœ¼ë¡œ í¬í•¨ë˜ì–´ìˆë‹¤.
- ì˜¤ë¼í´ì—ì„œëŠ” Java SE 11 ë¶€í„°ëŠ” JDK í•˜ë‚˜ë¡œë§Œ ë°°í¬ëœë‹¤.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__9.30.01.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__9.30.01.png)

## Java & JVM ì–¸ì–´

- JavaëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´
    - JDKì˜ javacë¥¼ í™œìš©í•˜ì—¬ ë°”ì´íŠ¸ì½”ë“œë¡œ ì»´íŒŒì¼ í•˜ì—¬ì„œ JVMìœ¼ë¡œ ì‹¤í–‰.
- JVMì–¸ì–´ëŠ” JVMì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´
    - Kotlin, Scala, Groovyë“±.
    - JVMì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ë°”ì´íŠ¸ì½”ë“œë¡œ ì»´íŒŒì¼ ë˜ë©´ JVM ìœ„ì—ì„œ ë™ì‘ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

# JVMêµ¬ì¡°

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__10.09.41.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__10.09.41.png)

ì¸í”„ëŸ°, ë” ìë°” ì½”ë“œë¥¼ ì¡°ì‘í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•.

## í´ë˜ìŠ¤ ë¡œë” ì‹œìŠ¤í…œ

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__11.59.54.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__11.59.54.png)

- .classì—ì„œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì½ê³  ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹.

### ë¡œë”©

- .classíŒŒì¼ì„ ì½ê³ , ì ì ˆí•œ ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ì„œ **ë©”ì†Œë“œ ì˜ì—­ì—** ì €ì¥í•œë‹¤.
- ë©”ì†Œë“œ ì˜ì—­ì— ì €ì¥ë˜ëŠ” ë©”íƒ€ë°ì´í„°ëŠ” FQCN, í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, ì´ëŠ„, ë©”ì†Œë“œì™€ ë³€ìˆ˜ë“±ì„ ì €ì¥í•œë‹¤.
- **ë¡œë”©ì´ ëë‚˜ë©´ ì´ ê°ì²´ë¥¼ `Class` íƒ€ì…ìœ¼ë¡œ ìƒì„±í•˜ì—¬ 'í™'ì— ì €ì¥í•œë‹¤**.

    ```java
    App.class 
    App app = new App();
    app.getClass() // Classíƒ€ì…ìœ¼ë¡œ ìƒì„±ëœ 
    ```

- ìˆœì„œ
    - ì œì¼ ë¶€ëª¨ì—ê²Œ ìš”ì²­ì„ í•œë‹¤.
    - ë¶€ëª¨ê°€ ëª»ì½ìœ¼ë©´ ìì‹ì´ ì½ëŠ”ë‹¤.
    - ìµœì¢…ê¹Œì§€ ì™”ëŠ”ë° ëª»ì½ìœ¼ë©´ ClassNotFoundExceptionì„ ë˜ì§„ë‹¤.

**ğŸ“•  ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ë¡œë”**

- JAVA_HOME/lib ëª¨ë“ˆ (java 9) í˜¹ì€ rt.jar (java8)ëŠ” ì½”ì–´ ìë°” APIë¥¼ (rt.jarì— ìˆëŠ”ê²ƒë“¤) ë¡œë”©í•˜ëŠ” ëª©ì ì— ìˆë‹¤. ì˜ˆ) main()ì„ ë¡œë“œí•  ë•Œ java.lang

**ğŸ“•  ìµìŠ¤í…ì…˜(í”Œë«í¼) í´ë˜ìŠ¤ë¡œë”**

- JAVA_HOME/lib/ext í´ë” ë˜ëŠ” java.ext.dirs ì‹œìŠ¤í…œ ë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ìœ„ì¹˜ì— ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ì½ëŠ”ë‹¤.

**ğŸ“•  ì–´í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤ë¡œë”**

- ì € ë‘ê°€ì§€ ì™¸ì— í´ë˜ìŠ¤ë¥¼ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ë¡œë”©í•œë‹¤ê³  ìƒê°í•˜ë©´ ì¢‹ë‹¤. -classpathì— ì†í•œ ëª¨ë“  í´ë˜ìŠ¤ê°€ í•´ë‹¹í•œë‹¤.

[ìë°” í´ë˜ìŠ¤ ë¡œë”©, ê·¸ë¦¬ê³  ë¦¬í”Œë ‰ì…˜](https://velog.io/@agugu95/%EC%9E%90%EB%B0%94-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%A1%9C%EB%94%A9%EA%B3%BC-%EC%86%8D%EB%8F%84-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EA%B8%B0%EB%B2%95%EB%93%A4)

```java
Classloader classLoader = App.class.getClassLoader();
System.out.println(classLoader); // AppClassLoader
SYstem.out.println(classLoader.getParent()); // platformClassLoader
SYstem.out.println(classLoader.getParent().getParent()); // null (ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ êµ¬í˜„ë˜ì–´ìˆìœ¼ë¯€ë¡œ nullì´ ë°˜í™˜ëœë‹¤)
```

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__2.12.41.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__2.12.41.png)

### ë§í‚¹

- verify : .class íŒŒì¼ í˜•ì‹ì´ ìœ íš¨í•œì§€ ì²´í¬í•œë‹¤. ë§Œì•½ ë³€ì¡°ë˜ì–´ì„œ í•´ì‹œê°’ì´ ë³€ê²½ë˜ê±°ë‚˜ í•˜ë©´ ì½ì§€ ì•ŠëŠ”ë‹¤.
- prepare : í´ë˜ìŠ¤ static ë³€ìˆ˜ì™€ ê¸°ë³¸ê°’ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ì¤€ë¹„í•´ì£¼ëŠ” ê³¼ì •.
- resolve(optional) :ì‹¬ë³¼ë¦­ ë©”ëª¨ë¦¬ ë ˆí¼ëŸ°ìŠ¤ (ë…¼ë¦¬ì ìœ¼ë¡œë§Œ êµ¬ì„±í•´ë†“ê³  ì‹¤ì œë¡œëŠ” ì—°ê²° ì•ˆë˜ì–´ìˆëŠ” ìƒíƒœ)ë¥¼ ì‹¤ì œ í™ì— ë“¤ì–´ìˆëŠ” ë ˆí¼ëŸ°ìŠ¤ë¡œ êµì²´í•œë‹¤. í•˜ì§€ë§Œ optionalì´ë¼, ì‹¤ì œë¡œ ì´ ê³¼ì •ì—ì„œ ì‹¤í–‰ ì•ˆë˜ê³  ì‚¬ìš©í•  ë•Œ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤.

```java
Book book = new Book();
=> Book book = Symbolic:book;
```

### ì´ˆê¸°í™”

- static ë³€ìˆ˜ì˜ ê°’ì„ í• ë‹¹í•œë‹¤.
- static blockì„ ì‹¤í–‰í•œë‹¤.

## í´ë˜ìŠ¤ ë¡œë”© íƒ€ì´ë°

- ìë°”ì˜ í´ë˜ìŠ¤ ë¡œë”©ì€ í´ë˜ìŠ¤ ì°¸ì¡°ì‹œì ì— JVMì— ì½”ë“œê°€ ë§í¬ë˜ê³ , ì‹¤ì œ ë¡œë”©ì—ëŠ” Dynamic loadingì„ ê±°ì¹œë‹¤.
    - ì¦‰, JVMì€ ê¸°ë³¸ì ìœ¼ë¡œ í´ë˜ìŠ¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šê³ , ì‹¤ì œ í´ë˜ìŠ¤ ì°¸ì¡° ì‹œì ì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    - Cê°™ì€ ê²½ìš° ì»´íŒŒì¼ ì‹œì ì— ëª¨ë“  í—¤ë” ì •ë³´ë¥¼ ê°€ì ¸ì™€ ë§í‚¹í•˜ëŠ” ê³¼ì •ê³¼ ë‹¤ë¥´ê²Œ, JVMì€ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¨ë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.

### Load time dynamic loading

System, Object,Stringë“± ì½”ì–´ apië“±ì„ main()ì‹œì ì— ì´ë¯¸ ë¡œë”©.

ë”°ë¼ì„œ import java.lang.Object, Systemë“±ì„ í• í•„ìš” ì—†ìŒ.

```java
Public class Hello { 
	Public static void main(String[] args) { 
		System.out.println(â€œHello Javaâ€);  
	}  
}
```

### Runtime Dynamic Loading

ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ìˆœê°„ì— ë™ì ìœ¼ë¡œ ë¡œë”©í•˜ëŠ” ë°©ì‹.

ê°ì²´ë¥¼ ë¡œë”©í•  ì •ë³´ëŠ” ëŸ°íƒ€ì„ì— ì „ë‹¬ëœë‹¤. 

í´ë˜ìŠ¤ ì •ë³´ê°™ì€ê²½ìš°ëŠ” Class Loader Name + Package Name + Class Nameë¥¼ ê°€ì§€ê³  classë¥¼ íŒë³„í•œë‹¤. ë”°ë¼ì„œ FQCN (Full Qualified Class Name)ì„ ì ì–´ì¤˜ì•¼ì§€ í´ë˜ìŠ¤ë¥¼ ì •í™•íˆ ë¡œë”©í•  ìˆ˜ ìˆë‹¤.

```java
Public class Hello {  
	Public static void main(String[] args) {  
		Class c1 = Class.forName(args[0]); 
	}  
}
```

[programming : ë„¤ì´ë²„ ë¸”ë¡œê·¸](https://blog.naver.com/haena910/222150168303)

[4ì¥ - Class Loader](https://www.slipp.net/wiki/pages/viewpage.action?pageId=8880262)

[When a class is loaded and initialized in JVM - Java](https://javarevisited.blogspot.com/2012/07/when-class-loading-initialization-java-example.html#ixzz2ZHoZKA48)

[ë””ìì¸íŒ¨í„´ - ì‹±ê¸€í†¤ íŒ¨í„´](https://yaboong.github.io/design-pattern/2018/09/28/thread-safe-singleton-patterns/)

## ë©”ëª¨ë¦¬

### ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³µìœ ë˜ëŠ”ê²ƒ.

- ë©”ì†Œë“œ ì˜ì—­ : í´ë˜ìŠ¤ ìˆ˜ì¤€ì˜ ì •ë³´ (í´ë˜ìŠ¤ ì´ë¦„, ë¶€ëª¨ í´ë˜ìŠ¤ ì´ë¦„, ë©”ì†Œë‘, ë³€ìˆ˜) ë¥¼ ì €ì¥í•œë‹¤.
- í™ ì˜ì—­ : ê°ì²´ë¥¼ ì €ì¥í•œë‹¤.

### ê° ì“°ë ˆë“œ ë¼ë¦¬ë§Œ ê³µìœ ë˜ëŠ”ê²ƒ.

- ìŠ¤íƒ : ì“°ë ˆë“œë§ˆë‹¤ ëŸ°íƒ€ì„ ìŠ¤íƒì„ ë§Œë“¤ê³ , ê·¸ì•ˆì˜ ë©”ì†Œë“œ í˜¸ì¶œì„ ìŠ¤íƒí”„ë ˆì„ì´ë¼ ë¶€ë¥´ëŠ” ë¸”ëŸ­ìœ¼ë¡œ ìŒ“ëŠ”ë‹¤. Error messageì˜ stack traceëŠ” ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ì¶œë ¥í•´ì£¼ëŠ”ê²ƒì´ë‹¤.
- PC : ì“°ë ˆë“œë§ˆë‹¤ ì“°ë ˆë“œ ë‚´ í˜„ì¬ ì‹¤í–‰í•  ìŠ¤íƒ í”„ë ˆì„ì„ ê°€ë¦¬í‚¨ë‹¤.
- ë„¤ì´í‹°ë¸Œ ë©”ì†Œë“œ ìŠ¤íƒ : ë„¤ì´í‹°ë¸Œ ë©”ì†Œë“œ (Javaê°€ ì•„ë‹Œ C ë“± ìœ¼ë¡œ ì§œì—¬ìˆëŠ” ë©”ì†Œë“œë“¤) ì „ìš© ìŠ¤íƒ.
    - ë„¤ì´í‹°ë¸Œ ë©”ì†Œë“œ ìŠ¤íƒ - JNI - ë„¤ì´í‹°ë¸Œ ë©”ì†Œë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬.
    - ëŒ€í‘œì ìœ¼ë¡œ Thread.currentThread()ë¼ëŠ” ë©”ì†Œë“œëŠ” Cë¡œ êµ¬í˜„ë˜ì–´ìˆë‹¤.

## ì‹¤í–‰ì—”ì§„

- ì¸í„°í”„ë¦¬í„° : ë°”ì´íŠ¸ì½”ë“œë¥¼ í•œì¤„ì”© ì‹¤í–‰í•œë‹¤.
- JIT : ì¸í„°í”„ë¦¬í„°ì˜ íš¨ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ ë°˜ë³µë˜ëŠ” ì½”ë“œë¥¼ ì²´í¬í•˜ê³  ê·¸ê²ƒì„ ë„¤ì´í‹°ë¸Œë¡œ ë°”ê¿”ë†“ëŠ” ì»´íŒŒì¼ëŸ¬.
- GC : ë”ì´ìƒ ì°¸ì¡°ë˜ì§€ ì•Šì€ ê°ì²´ë¥¼ ëª¨ì•„ì„œ ì •ë¦¬í•œë‹¤.
    - throuhput ìœ„ì£¼ì˜ gc.
    - stop the worldë¥¼ ì¤„ì´ëŠ” gc.
        - **Javaì—ì„œ ì„œë²„ì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” êµ‰ì¥íˆ ë§ì€ ê°ì²´ë“¤ì„ ìƒì„±í•˜ê³  ì†Œë©¸í•˜ê¸° ë•Œë¬¸ì— stop the worldë¥¼ ì¤„ì´ëŠ” GCë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ìœ ë¦¬í•˜ë‹¤.**

# ì¸í„°í”„ë¦¬í„° & JIT Compiler

JITëŠ” Just In Time ì´ë¼ê³  í•˜ë©°, ìë°” ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œ ë°”ì´íŠ¸ì½”ë“œì˜ ì»´íŒŒì¼ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

JVMì€ ë°”ì´íŠ¸ ì½”ë“œ í•´ì„ê³¼ ì‹¤í–‰ì„ ìœ„í•´ **ì¸í„°í”„ë¦¬í„°ì™€** **JIT**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/Untitled.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/Untitled.png)

[https://docs.oracle.com/cd/E19620-01/805-4031/6j3qv1oec/index.html](https://docs.oracle.com/cd/E19620-01/805-4031/6j3qv1oec/index.html)

### JIT ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ .

ë°”ì´íŠ¸ ì½”ë“œë¥¼ í•´ì„&ì‹¤í–‰**(ì¸í„°í”„ë¦¬íŒ…)ì˜ ì‹¤í–‰** ê³¼ì •ì€ ëŠë¦½ë‹ˆë‹¤.

ì˜ˆë¥¼ë“¤ì–´ì„œ,

ë‹¨ í•œì¤„ì˜ ì½”ë“œëŠ” `x=y+(2*x)` ëŠ” ì•„ë˜ì˜ ë°”ì´íŠ¸ì½”ë“œë¡œ ë°”ë€Œê³ , 6ì¤„ì˜ ë°”ì´íŠ¸ ì½”ë“œë¥¼ í•´ì„ & ì‹¤í–‰í•˜ê¸° ìœ„í•´ decoding, fetching, excuting ì„ í•˜ë©° ìœ„í•œ ìˆ˜ì‹­~ìˆ˜ë°±ê°œì˜ ëª…ë ¹ì„ ìˆ˜í–‰í•´ì•¼í•©ë‹ˆë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__6.39.41.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__6.39.41.png)

[http://people.cse.iitd.ac.in/~sbansal/csl862-virt/readings/CompileJava97.pdf](http://people.cse.iitd.ac.in/~sbansal/csl862-virt/readings/CompileJava97.pdf)

ë”°ë¼ì„œ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ë¹ ë¥´ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” **ê¸°ê³„ì–´**ë¡œ **ë²ˆì—­(ì»´íŒŒì¼)**ì„ í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì´ëŸ¬ë©´ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ëª…ë ¹ì˜ ìˆ˜ê°€ ì¤„ê¸° ë•Œë¬¸ì—, í¼í¬ë¨¼ìŠ¤ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

ìš°ë¦¬ëŠ” ì™„ì „í•œ ì»´íŒŒì¼ì„ ëŸ°íƒ€ì„ ì´ì „ì— í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— (í”Œë«í¼ ë…ë¦½ì„±ê³¼, ë‹¤ì–‘í•œ ì•ˆì „ì¥ì¹˜ë¥¼ í™•ë³´í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ê¸° ë•Œë¬¸ì—), **ëŸ°íƒ€ì„ì—ì„œ ì»´íŒŒì¼ì„ í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.**

í•œí¸, ì»´íŒŒì¼ë§ì„ ëŸ°íƒ€ì„ì—ì„œ ë„ì…í•˜ê¸° ìœ„í•´ì„œëŠ”, "**ì»´íŒŒì¼ì„ í•˜ëŠ” ì‹œê°„**" ì—­ì‹œ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì…ë‹ˆë‹¤. 

- ëŸ°íƒ€ì„ì—ì„œ ì»´íŒŒì¼ ë°©ë²•ì„ ì‚¬ìš©í•˜ë ¤ë©´, ì»´íŒŒì¼ì„ í•˜ëŠ” ì‹œê°„ì´ ì¸í„°í”„ë¦¬íŒ… (ë°”ì´íŠ¸ì½”ë“œ í•´ì„ + ìˆ˜í–‰) í•˜ëŠ” ì‹œê°„ë³´ë‹¤ ë¹¨ë¼ì•¼í•©ë‹ˆë‹¤. ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ êµ³ì´ ì»´íŒŒì¼ì„ ì‚¬ìš©í•  ì´ìœ ëŠ” ì—†ìŠµë‹ˆë‹¤.
- ëŸ°íƒ€ì„ ì»´íŒŒì¼ ì‹œê°„ì´ ê¸¸ì–´ì§€ë©´, **ì²˜ìŒ ì•±ì„ ì¼¤ ë•Œ** ì½”ë“œë¥¼ ì»´íŒŒì¼ í•˜ëŠ”ë°ì˜ ì‹œê°„ (start-up) ì‹œê°„ì´ ê¸¸ì–´ì ¸ì„œ ì•±ì´ ì‹œì‘ë ë•Œ ê¹Œì§€ ìœ ì €ê°€ ê¸°ë‹¤ë ¤ì•¼í•©ë‹ˆë‹¤.
    - ì½”ë“œ ì»´íŒŒì¼ì€ ì•„ë¬´ë˜ë„ ì´ˆë°˜ ì•±ì„ ì¼°ì„ ë•Œ ì˜ ìƒí™© (warm-up) êµ¬ê°„ì—ì„œë§Œ jitì˜ ì‚¬ìš©ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ìµœëŒ€í•œ start-up~ warm-up êµ¬ê°„ì´ ê¸¸ì–´ì§€ì§€ ì•Šë„ë¡ ì ë‹¹íˆ ì»´íŒŒì¼ í™œìš©ê³¼ ì¸í„°í”„ë¦¬í„° í™œìš©ì— ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶”ëŠ”ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

        ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__7.22.56.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__7.22.56.png)

        [http://cr.openjdk.java.net/~vlivanov/talks/2015_JIT_Overview.pdf](http://cr.openjdk.java.net/~vlivanov/talks/2015_JIT_Overview.pdf)

### JIT ì»´íŒŒì¼ëŸ¬ì˜ ë™ì‘ë°©ì‹

JIT ì»´íŒŒì¼ëŸ¬ëŠ” ì¼ë°˜ì ì¸ ì»´íŒŒì¼ëŸ¬ì²˜ëŸ¼ ìµœì í™” ê³¼ì •ë“±ì„ ìµœëŒ€í•œ ëœì–´ë‚´ê³ , ì»´íŒŒì¼ ê³¼ì •ì„ ë¹ ë¥´ê²Œ í•˜ì—¬ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ”ê²ƒì— ì£¼ì•ˆì ì„ ë‘¡ë‹ˆë‹¤. 

ë”°ë¼ì„œ JITì€ ë‹¤ì–‘í•œ **íœ´ë¦¬ìŠ¤í‹± ê¸°ë²•ë“¤ì„** í™œìš©í•©ë‹ˆë‹¤. â†’ íœ´ë¦¬ìŠ¤í‹±ì´ ë©€ê¹Œìš©

- ì²˜ìŒ ì‹¤í–‰ë˜ëŠ” or method invocation call count ì²´í¬í•˜ì—¬ ì‚¬ìš©ì´ ë§ì´ë˜ê±°ë‚˜ í•„ìš”í•œ ë©”ì†Œë“œë¥¼ ìš°ì„ ì  ì»´íŒŒì¼ í•˜ê¸°.
- ë°”ì´íŠ¸ì½”ë“œë‚˜ ìƒì„±ë˜ëŠ” ì½”ë“œ profileë“±ì„ ì°¸ê³ í•˜ì—¬, ì»´íŒŒì¼ì´ í•„ìš”í•œ ì½”ë“œì™€ í•„ìš”í•˜ì§€ ì•Šì€ ì½”ë“œ êµ¬ë¶„í•˜ê¸°.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__8.52.39.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2020-11-19__8.52.39.png)

    [http://cr.openjdk.java.net/~vlivanov/talks/2015_JIT_Overview.pdf](http://cr.openjdk.java.net/~vlivanov/talks/2015_JIT_Overview.pdf)

    â‡’ ë§Œì•½ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ë¼ë©´, êµ³ì´ ì»´íŒŒì¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

- ìì£¼ ìˆ˜í–‰ë˜ëŠ” ì½”ë“œë¼ë©´ ìµœì í™”ë¥¼ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì»´íŒŒì¼ ìˆ˜í–‰í•˜ê¸°.

# JVM GC

- GC : JVMí™ì˜ì—­ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ ì •ë¦¬í•˜ëŠ” ë°©ì‹

## ì •ë¦¬ ë°©ì‹

### Mark & Sweep & Compact

1. GC Root ë¡œ ë¶€í„°, ë„ë‹¬í•  ìˆ˜ ìˆëŠ” ê°ì²´ì™€ ë„ë‹¬í•˜ì§€ ëª»í•˜ëŠ” ê°ì²´ë¥¼ êµ¬ë¶„í•œë‹¤.
    1. GCRootëŠ” 
        1. local variable(stackì˜ì—­ì˜ ë°ì´í„°ë“¤)
        2. methodì˜ì—­ì˜ static dataë“¤.
        3. JNIì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë“¤..
2. Reachable Object ì™€ Unreachable Objectë¡œ ë‚˜ëˆˆë‹¤. 

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.22.21.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.22.21.png)

3. Unreachableí•œ ê°ì²´ë¥¼ heapì—ì„œ ì œê±°í•œë‹¤.
4. sweepí›„ì— ë¶„ì‚°ëœ ê°ì²´ë“¤ì„ ì‹œì‘ì£¼ì†Œë¡œ ëª¨ì•„ì„œ ë©”ëª¨ë¦¬ ë‹¨í¸í™”ë¥¼ ë§‰ì•„ì¤€ë‹¤. (ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ë‹¤ë¦„)

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.23.57.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.23.57.png)

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.24.04.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.24.04.png)

- ê·¸ëŸ¼ mark & sweepì€ ëˆ„ê°€ triggerí• ê¹Œ?
    - (ì£¼ê¸°ì ìœ¼ë¡œ?, í˜¹ì€ ì–´ë–¤ triggerí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ ìˆì„ê¹Œ?)
- ê·¸ë¦¬ê³  ë§ì€ ê°ì²´ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ mark&sweepê³¼ì •ì„ í•˜ë©´ ëŠë ¤ì§€ì§€ ì•Šì„ê¹Œ?
- mark&sweepê³¼ì •ì€ thread-safeí•œê°€? thread-safeí•˜ë‹¤ë©´, í”„ë¡œë•ì…˜ì—ì„œ gcë¥¼ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–»ê²Œ í•˜ëŠ”ê°€?

## Heapì˜ êµ¬ì¡°

- young generation : ìƒˆë¡œ ìƒì„±ëœ ê°ì²´ëŠ” ì´ ì˜ì—­ìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.
- old generation: young genì—ì„œ ì˜¤ë˜ ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” old generationì—ì„œ ëŒì•„ì˜¨ë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.24.54.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.24.54.png)

- ìƒˆë¡œìš´ ê°ì²´ê°€ Eden ì˜ì—­ì— í• ë‹¹ëœë‹¤

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.26.50.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.26.50.png)

- Edenì— í• ë‹¹ë  ê³³ì´ ì—†ë‹¤ë©´ ***Minor GC***ê°€ ë°œìƒí•œë‹¤. ì´ë•Œ, Mark & Sweepì´ ì¼ì–´ë‚œë‹¤.
- ì‚´ì•„ë‚¨ì€ ê°ì²´ë“¤ì€ survivor ë¡œ ì´ë™í•œë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.27.45.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.27.45.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.33.50.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.33.50.png)

- ì‚´ì•„ë‚¨ì€ ì˜ì—­ì— ìˆëŠ”ê±´ ageê°’ì´ ì¦ê°€í•œë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.34.02.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.34.02.png)

- Ageê°€ ì–´ëŠ ì„ê³„ì ì— ë„ë‹¬í•˜ë©´ old generationìœ¼ë¡œ ì´ë™í•œë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.34.41.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.34.41.png)

- old generationì´ ê½‰ì°¨ë©´ **Major GC**ê°€ ë°œìƒëœë‹¤!

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.35.32.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__4.35.32.png)

## Major GC & Minor GC

GCì˜ ë‘ê°€ì§€ ê°€ì •

1. ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© GCì— ì˜í•´ ì •ë¦¬ë ê²ƒì´ë‹¤.

    â‡’ ëŒ€ë¶€ë¶„ì˜ ê°ì²´ì˜ ìˆ˜ëª…ì€ ë§¤ìš° ì§§ë‹¤. 

2. ì˜¤ë˜ëœ ê°ì²´ë¡œì˜ ì°¸ì¡°ì—ì„œ ì Šì€ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ì•„ì£¼ ì ê²Œ ì¡´ì¬í•œë‹¤.

    â‡’ ?

â‡’ ë”°ë¼ì„œ (ìœ„ì˜ ê°€ì •ì´ ë§ë‹¤ë©´) ì¤‘ê°„ì¤‘ê°„ì— Memoryë¥¼ ìœ„í•œ ì§§ê²Œ ì§§ê²Œ gcë¥¼ í•´ì£¼ëŠ”ê²Œ ë” ì´ë“ì´ë¼ê³  íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__5.25.09.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__5.25.09.png)

[https://gyoogle.dev/blog/computer-language/Java/Garbage Collection.html](https://gyoogle.dev/blog/computer-language/Java/Garbage%20Collection.html)

[NAVER D2](https://d2.naver.com/helloworld/1329)

# GCì˜ ì¢…ë¥˜

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.16.52.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.16.52.png)

- GCê°€ ë‹¬ì„±í•´ì•¼í•  ëª©í‘œ 2ê°€ì§€.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__7.35.52.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__7.35.52.png)

[http://eivindw.github.io/2016/01/08/comparing-gc-collectors.html#:~:text=Throughput - This is the percentage,over long periods of time.&text=Pause-times%2Flatency - This,unresponsive because of garbage collection](http://eivindw.github.io/2016/01/08/comparing-gc-collectors.html#:~:text=Throughput%20%2D%20This%20is%20the%20percentage,over%20long%20periods%20of%20time.&text=Pause%2Dtimes%2Flatency%20%2D%20This,unresponsive%20because%20of%20garbage%20collection).

- Throughputì´ ë‚®ì€ ê²½ìš° : GCì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§€ëŠ” ê²½ìš°.
- Throughputì´ ë†’ì€ ê²½ìš° : GCì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹œê°„ì´ ì§§ì•„ì§€ëŠ” ê²½ìš°.
- Latencyê°€ ë†’ì€ ê²½ìš° : GCê°€ ìì£¼ ì‘ì—…ì„ ë©ˆì¶”ê²Œ í•˜ëŠ” ê²½ìš°.
- Latencyê°€ ë‚®ì€ ê²½ìš° : GCê°€ ì „ì²´ ì‘ì—…ì„ ë©ˆì¶”ê²Œ í•˜ëŠ”ê²Œ ëœí•˜ëŠ”ê²½ìš°.

## stop the world (pause-time/latency) ?

GCë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ JVMì´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ ë©ˆì¶”ëŠ”ê²ƒ. (?)

ì¦‰, GCë¥¼ ì‹¤í–‰í•˜ëŠ” ì“°ë ˆë“œ ì™¸ ë‹¤ë¥¸ ì“°ë ˆë“œì˜ ì‘ë™ì´ ì •ì§€ëœë‹¤.

### Serial GC

- ê°€ì¥ ë‹¨ìˆœí•¨.
- í•œê°€ì§€ì˜ ì“°ë ˆë“œê°€ GCë¥¼ ì²˜ë¦¬í•¨.
- stop-the-world ì‹œê°„ì´ ê¸¸ë‹¤.
- young ì˜ì—­ì—ëŠ” mark&sweep
- oldì˜ì—­ì—ëŠ” mark&sweep&compact ê³¼ì •.
- **ì„œë²„ì˜ ì½”ì–´ê°€ 1ê°œì¼ ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê°œë°œë¨. (ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê°œë°œëœ GCë°©ì‹), 100MBì •ë„ì˜ ë°ì´í„° ì…‹ì„ ë‹¤ë£¨ëŠ” ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì í•©.**

```java
java -XX:+UseSerialGC -jar Application.java
```

### Parallel GC

- minor gcì—ì„œëŠ” multi threadë¥¼
- stop-the-worldì‹œê°„ì´ ê°œì„ ë¨.
- **Throughput GC ë¡œ ìœ ëª…í•¨.**
- ì—¬ëŸ¬ê°œì˜ ì“°ë ˆë“œë¡œ GCì˜ ì˜¤ë²„í—¤ë“œë¥¼ ë§ì´ ì¤„ì—¬ì¤Œ.
- CPUê°€ ì—¬ëŸ¬ê°œì¼ ë•Œ, ìœ ë¦¬í•˜ê²Œ ë™ì‘.
- ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  Applicationì´ ë©ˆì¶”ëŠ”ê²ƒì„ í”¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ì´ ê°œë°œë˜ì—ˆë‹¤.
- java8ì˜ ê¸°ë³¸ gc.

```java
java -XX:+UseParallelGC -jar Application.java

// ì‚¬ìš©í•  ì“°ë ˆë“œì˜ ê°¯ìˆ˜
-XX:ParallelGCThreads=<N>

// ìµœëŒ€ ì§€ì—° ì‹œê°„
-XX:MaxGCPauseMillis=<N>
```

### CMS GC

- stop-the-worldë¥¼ ì¤„ì´ê¸° ìœ„í•´ ê³ ì•ˆë¨.

    **mark**ê³¼ì •ê³¼ **sweep**ê³¼ì •ì„ concurrent ì§„í–‰ë¨.

    ![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__7.09.44.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__7.09.44.png)

    - gcì²˜ë¦¬ ê³¼ì •ê³¼ ë‚˜ë¨¸ì§€ ì“°ë ˆë“œ ì²˜ë¦¬ë¥¼ ë™ì‹œì— ì§„í–‰í•¨.
        - initial mark  : GC Rootì—ì„œ ì°¸ì¡°í•˜ëŠ” ê°ì²´ë“¤ë§Œ ìš°ì„  ì‹ë³„
        - concurrent mark : ì´ì „ ë‹¨ê³„ì—ì„œ ì‹ë³„í•œ ê°ì²´ë“¤ì´ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ê°ì²´ ì¶”ì .
        - remark : ì´ì „ê³¼ì •ì—ì„œ ì‹ë³„ëœ ëª¨ë“  ê°ì²´ë¥¼ ë‹¤ì‹œ ì¶”ì . ì—…ë°ì´íŠ¸ ì‚¬í•­ í™•ì¸.
        - sweep : ìµœì¢…ì ìœ¼ë¡œ ì•ˆì“°ëŠ”ê°ì²´ë“¤ ì‚­ì œ.
    - **low latency gcë¡œ ì•Œë ¤ì ¸ìˆë‹¤.**
    - ë™ì‹œì ìœ¼ë¡œ ì§„í–‰ë˜ë¯€ë¡œ CPUì†Œëª¨ê°€ í¬ê³ , Compaction ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
        - ë©”ëª¨ë¦¬ íŒŒí¸í™”ê°€ ì¼ì–´ë‚˜ì„œ ë‚˜ì¤‘ì— stop-the-worldì˜ ì‹œê°„ì´ ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤.
        - "CMS GCë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” ì‹ ì¤‘íˆ ê²€í† í•œ í›„ì— ì‚¬ìš©í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì¡°ê°ë‚œ ë©”ëª¨ë¦¬ê°€ ë§ì•„ Compaction ì‘ì—…ì„ ì‹¤í–‰í•˜ë©´ ë‹¤ë¥¸ GC ë°©ì‹ì˜ stop-the-world ì‹œê°„ë³´ë‹¤ stop-the-world ì‹œê°„ì´ ë” ê¸¸ê¸° ë•Œë¬¸ì— Compaction ì‘ì—…ì´ ì–¼ë§ˆë‚˜ ìì£¼, ì˜¤ë«ë™ì•ˆ ìˆ˜í–‰ë˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤."
    - Use the CMS collector if your application needs **shorter garbage collection pauses and can afford to share processor resources with the garbage collector when the application is running. (ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ì†ŒìŠ¤ê°€ ìì£¼ concurrentí•˜ê²Œ ëŒë¦¬ê¸°ì— ì¶©ë¶„í•˜ê³ , shorter garbage collectionì´ í•„ìš”í•  ë•Œ)**

    ```java
    java -XX:+UseConcMarkSweepGC -jar Application.java
    ```

### Garbage-First Garbage Collection

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.36.40.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.36.40.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.37.19.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.37.19.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.38.54.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.38.54.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.27.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.27.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.43.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.43.png)

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.59.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/_2021-05-06__8.39.59.png)

- Heapì„ ì¼ì •í•œ Regionìœ¼ë¡œ ë‚˜ëˆˆë‹¤.
- G1 GCëŠ” ë°”ë‘‘íŒì˜ ê° ì˜ì—­ì— ê°ì²´ë¥¼ í• ë‹¹í•˜ê³  GCë¥¼ ì‹¤í–‰í•œë‹¤. ê·¸ëŸ¬ë‹¤ê°€, í•´ë‹¹ ì˜ì—­ì´ ê½‰ ì°¨ë©´ ë‹¤ë¥¸ ì˜ì—­ì—ì„œ ê°ì²´ë¥¼ í• ë‹¹í•˜ê³  (í• ë‹¹ëœ ì˜ì—­ì—ë§Œ ì²´í¬ë¥¼ í•˜ê³ ) GCë¥¼ ì‹¤í–‰í•œë‹¤.
- Regionë³„ë¡œ ë‚˜ëˆ„ì–´ì„œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— íŒŒí¸í™” ê³¼ì •ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.
- The Garbage first collector (G1) introduced in JDK 7 update 4 was designed to better support heaps larger than 4GB.

> "ë§ˆì§€ë§‰ìœ¼ë¡œ í•œ ê°€ì§€ ë” ë§í•˜ê³  ì‹¶ì€ ê²ƒì´ ìˆë‹¤. ì–´ë–¤ ì„œë¹„ìŠ¤ì—ì„œ Aë¼ëŠ” GC ì˜µì…˜ì„ ì ìš©í•´ì„œ ì˜ ë™ì‘í•œë‹¤ê³  ê·¸ GC ì˜µì…˜ì´ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ì„œë„ í›Œë¥­í•˜ê²Œ ì ìš©ë˜ì–´ ìµœì ì˜ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì§€ ë§ë¼ëŠ” ê²ƒì´ë‹¤."

> "ê° ì„œë¹„ìŠ¤ì˜ WASì—ì„œ ìƒì„±í•˜ëŠ” ê°ì²´ì˜ í¬ê¸°ì™€ ìƒì¡´ ì£¼ê¸°ê°€ ëª¨ë‘ ë‹¤ë¥´ê³ , ì¥ë¹„ì˜ ì¢…ë¥˜ë„ ë‹¤ì–‘í•˜ë‹¤. WASì˜ ìŠ¤ë ˆë“œ ê°œìˆ˜ì™€ ì¥ë¹„ë‹¹ WAS ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜, GC ì˜µì…˜ ë“±ì€ ì§€ì†ì ì¸ íŠœë‹ê³¼ ëª¨ë‹ˆí„°ë§ì„ í†µí•´ì„œ í•´ë‹¹ ì„œë¹„ìŠ¤ì— ê°€ì¥ ì í•©í•œ ê°’ì„ ì°¾ì•„ì•¼ í•œë‹¤"

[https://www.youtube.com/watch?v=Fe3TVCEJhzo&t=315s](https://www.youtube.com/watch?v=Fe3TVCEJhzo&t=315s)

[https://www.youtube.com/watch?v=ORlPH0xqWpY](https://www.youtube.com/watch?v=ORlPH0xqWpY)

[Garbage Collectors - Serial vs. Parallel vs. CMS vs. G1 (and what's new in Java 8) | OverOps](https://www.overops.com/blog/garbage-collectors-serial-vs-parallel-vs-cms-vs-the-g1-and-whats-new-in-java-8/)

[NAVER D2](https://d2.naver.com/helloworld/1329)

[Garbage First Garbage Collector Tuning](https://www.oracle.com/technical-resources/articles/java/g1gc.html)

[](https://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf)

[](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.63.6386&rep=rep1&type=pdf)

[Garbage Collection Optimization for High-Throughput and Low-Latency Java Applications](https://engineering.linkedin.com/garbage-collection/garbage-collection-optimization-high-throughput-and-low-latency-java-applications)

[Comparing GC Collectors](http://eivindw.github.io/2016/01/08/comparing-gc-collectors.html)

[https://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf](https://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf)

[[Java] ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ Garbage Collection(ê°€ë¹„ì§€ ì»¬ë ‰ì…˜) ì•Œê³ ë¦¬ì¦˜ (2/2)](https://mangkyu.tistory.com/119)

# V8 Engine GC

- V8
    - êµ¬ê¸€ì—ì„œ ê°œë°œí•œ Javascriptì „ìš© ì˜¤í”ˆì†ŒìŠ¤ ì—”ì§„
    - Node.js, Chromeì—ì„œ Javascriptë¥¼ ì‹¤í–‰í•˜ëŠ”ë° ì‚¬ìš©ë¨.

![%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/Untitled%201.png](%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AE%20-%20JVM,%20GC%20b22a81f31f5a43f6b35185f75a433f33/Untitled%201.png)

[https://teraphonia.tistory.com/800](https://teraphonia.tistory.com/800)